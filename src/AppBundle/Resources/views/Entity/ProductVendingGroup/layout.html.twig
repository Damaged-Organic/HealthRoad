{# AppBundle/Resources/views/Entity/ProductVendingGroup/layout.html.twig #}
{% extends 'AppBundle:Dashboard/State:index.html.twig' %}

{% block title %}
    {{ 'product_vending_group_read'|trans({}, 'routes') }} | {{ 'dashboard.title'|trans }}
{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('bundles/app/dashboard/css/productVendingGroups.bundle.min.css') }}">
{% endblock %}

{% block content %}
    <section class="outer" id="info-holder">
        <div class="top-info-panel">

            {% block action_top %}{% endblock %}

        </div>

        {% block variable %}
            <div class="outer scrollable-holder">
                <div class="inner scrollable">

                    {% block data %}{% endblock %}

                </div>
            </div>
            <div class="bottom-info-panel">

                {% block action_bottom %}{% endblock %}

            </div>
        {% endblock %}
    </section>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('bundles/app/dashboard/js/productVendingGroups.bundle.min.js') }}"></script>
{% endblock %}

{#{% if is_granted(constant('AppBundle\\Security\\Authorization\\Voter\\ProductVendingGroupVoter::PRODUCT_VENDING_GROUP_DELETE'), productVendingGroup) %}
    <p>
        <a href="{{ path('product_vending_group_delete', { 'id': productVendingGroup.id }) }}">Удалить</a>
    </p>
{% endif %}

<p>-------------------------------------------------------------------------------------------------</p>
{% if is_granted(constant('AppBundle\\Security\\Authorization\\Voter\\ProductVendingGroupVoter::PRODUCT_VENDING_GROUP_BIND'), productVendingGroup) %}
    <p>
        <a href="{{ path('product_choose', { 'objectClass': class(productVendingGroup)|lower, 'objectId': productVendingGroup.id }) }}">@ Привязать продукт</a>
    </p>
{% endif %}

<p>Продукты:</p>
<p>-------------------------------------------------------------------------------------------------</p>
{% if productVendingGroup.products %}
    {{ render(controller('AppBundle:Binding/Product:show', { 'objectClass': class(productVendingGroup)|lower, 'objectId': productVendingGroup.id })) }}
{% endif %}

<p>-------------------------------------------------------------------------------------------------</p>
{% if is_granted(constant('AppBundle\\Security\\Authorization\\Voter\\ProductVendingGroupVoter::PRODUCT_VENDING_GROUP_BIND'), productVendingGroup) %}
    <p>
        <a href="{{ path('vending_machine_choose', { 'objectClass': class(productVendingGroup)|lower, 'objectId': productVendingGroup.id }) }}">@ Привязать торговый автомат</a>
    </p>
{% endif %}

<p>Торговые автоматы:</p>
<p>-------------------------------------------------------------------------------------------------</p>
{% if productVendingGroup.vendingMachines %}
    {{ render(controller('AppBundle:Binding/VendingMachine:show', { 'objectClass': class(productVendingGroup)|lower, 'objectId': productVendingGroup.id })) }}
{% endif %}#}